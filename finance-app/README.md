# ğŸ’¸ Finance Tracker

A modern, AI-powered personal finance management tool built with **Streamlit**, **Firebase**, and **Google Gemini AI**. This application helps you track your spending, analyze your financial habits, and get intelligent insights into your money.

## âœ¨ Features

- **ğŸ“Š Interactive Dashboard**: Visualize your income, expenses, and budget status with dynamic charts and metrics.
- **ğŸ¤– AI Assistant**: Chat with your financial data. Ask questions like "How much did I spend on groceries last month?" or "What are my biggest expenses?".
- **ğŸ“ AI Summary**: Automated monthly financial reports and insights generated by Google Gemini.
- **ğŸ“ Data Upload**: Support for uploading bank statements in **PDF** and **Excel** formats.
- **âœï¸ Data Editor**: Manually edit, categorize, and manage your transactions.
- **ğŸ” Duplicate Detection**: Automatically identify and resolve potential duplicate transactions.
- **ğŸŒ“ Dark/Light Mode**: Premium UI with custom styling and theme support.
- **ğŸ’¾ Firebase Integration**: Securely store and sync your data with Google Cloud Firestore.
- **ğŸ› ï¸ Mock Mode**: Develop and test locally without needing cloud credentials.

## ğŸš€ Tech Stack

- **Frontend**: [Streamlit](https://streamlit.io/)
- **Database**: [Google Firebase Firestore](https://firebase.google.com/docs/firestore)
- **AI/LLM**: [Google Gemini Pro](https://ai.google.dev/)
- **Data Processing**: Pandas, OpenPyXL, PDFPlumber
- **Styling**: Custom CSS & Streamlit Theming

## ğŸ› ï¸ Setup & Installation

### 1. Prerequisites
- Python 3.9 or higher
- A Google Cloud Project (for Firebase)
- A Google AI Studio API Key (for Gemini)

### 2. Clone the Repository
```bash
git clone https://github.com/your-username/finance-tracker.git
cd finance-tracker
```

### 3. Install Dependencies
It is recommended to use a virtual environment:
```bash
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

### 4. Configuration (Secrets)
Create a `.streamlit/secrets.toml` file in the root directory and add your credentials:

```toml
# Google Gemini API Key
google_api_key = "YOUR_GEMINI_API_KEY"

# Firebase Service Account
[gcp_service_account]
type = "service_account"
project_id = "your-project-id"
private_key_id = "your-private-key-id"
private_key = "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
client_email = "your-email@your-project.iam.gserviceaccount.com"
client_id = "your-client-id"
auth_uri = "https://accounts.google.com/o/oauth2/auth"
token_uri = "https://oauth2.googleapis.com/token"
auth_provider_x509_cert_url = "https://www.googleapis.com/oauth2/v1/certs"
client_x509_cert_url = "https://www.googleapis.com/robot/v1/metadata/x509/..."
```

*Note: If no secrets are found, the app will automatically fall back to **Mock Mode** using `mock_db.json`.*

## ğŸƒ Running the App

To run the app, you must use the Python environment where Streamlit is installed.

### Option 1: Activate the Environment (Recommended)
```bash
source .venv/bin/activate
streamlit run main.py
```

### Option 2: Run Directly
```bash
./.venv/bin/streamlit run main.py
```

The app will be available at `http://localhost:8501`.

## ğŸ“‚ Project Structure

- `main.py`: Entry point of the application.
- `src/`: Core logic and UI components.
  - `ui/`: Streamlit UI modules (Dashboard, Sidebar, AI Assistant, etc.).
  - `db.py`: Firebase Firestore integration and data models.
  - `ai.py`: Google Gemini AI integration.
  - `parsers.py`: Bank statement parsing logic (PDF/Excel).
  - `utils.py`: Helper functions and utilities.
- `scripts/`: Maintenance and utility scripts for data migration, debugging, and specific fixes (e.g., Hebrew support, category cleanup).
- `tests/`: Unit and integration tests for core logic and AI features.
